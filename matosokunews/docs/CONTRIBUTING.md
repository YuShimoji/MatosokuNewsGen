# コントリビューションガイド

MatoSokuNewsへのご協力ありがとうございます！このドキュメントでは、プロジェクトへの貢献方法について説明します。

## 行動規範

このプロジェクトは、[Contributor Covenant](https://www.contributor-covenant.org/version/2/1/code_of_conduct/) 行動規範に従っています。参加する際は、この規範を遵守してください。

## はじめる前に

1. **イシューの確認**
   - 既存のイシューを確認し、作業を開始する前にコメントを残してください。
   - 新しい機能やバグ修正を提案する場合は、まずイシューを作成してください。

2. **開発環境のセットアップ**
   - [開発ガイド](./DEVELOPMENT.md) に従って開発環境をセットアップしてください。
   - プルリクエストを送信する前に、テストがすべてパスすることを確認してください。

## 開発ワークフロー

### 1. リポジトリをフォークする

1. GitHubでリポジトリをフォークします。
2. フォークをローカルにクローンします：
   ```bash
   git clone git@github.com:your-username/matosokunews.git
   cd matosokunews
   ```
3. 上流リポジトリをリモートとして追加します：
   ```bash
   git remote add upstream git@github.com:your-organization/matosokunews.git
   ```

### 2. ブランチの作成

機能や修正ごとに新しいブランチを作成します：

```bash
git checkout -b feature/your-feature-name
# または
# git checkout -b fix/issue-number-description
```

ブランチ名のプレフィックス：
- `feature/`: 新機能の追加
- `fix/`: バグ修正
- `docs/`: ドキュメントの更新
- `refactor/`: リファクタリング
- `test/`: テストの追加・修正
- `chore/`: ビルドプロセスやツールの変更

### 3. コードの変更

- コードスタイルに従ってください（後述）。
- 必要なテストを追加・更新してください。
- ドキュメントを更新してください。

### 4. 変更をコミット

コミットメッセージは [Conventional Commits](https://www.conventionalcommits.org/) に従ってください：

```
<type>(<scope>): <description>

[optional body]

[optional footer(s)]
```

例：
```
feat(articles): 記事一覧にページネーションを追加

- ページネーションコンポーネントを実装
- APIエンドポイントを更新
- テストを追加

Closes #123
```

### 5. 変更をプッシュ

```bash
git push origin your-branch-name
```

### 6. プルリクエストを作成

1. GitHubのリポジトリにアクセスし、「Pull Request」をクリックします。
2. ベースブランチ（通常は `main`）と比較ブランチ（あなたのブランチ）を選択します。
3. プルリクエストのテンプレートに従って説明を記入します。
4. 関連するイシューをリンクします（例：`Closes #123`）。
5. プルリクエストを作成します。

### 7. コードレビュー

- メンテナーからのフィードバックに対応します。
- 必要に応じて変更を加え、プッシュします（新しいコミットは作成せず、既存のコミットに修正を加えてください）。
- すべてのCIチェックがパスすることを確認します。

## コードスタイル

### 全般

- インデント: スペース2つ
- 文字コード: UTF-8
- 改行コード: LF
- 末尾の空白: 削除

### TypeScript/JavaScript

- [TypeScript公式コーディングガイドライン](https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines) に従ってください。
- ESLintとPrettierを使用してコードをフォーマットします。
- コミット前に `npm run lint` を実行してください。

### コンポーネント

- コンポーネントは関数コンポーネントとして作成します。
- コンポーネント名はPascalCaseで、ファイル名と一致させます。
- プロップスには適切な型を定義します。

```typescript
// Good
interface UserProfileProps {
  user: User;
  onUpdate: (user: User) => void;
}

export const UserProfile: React.FC<UserProfileProps> = ({ user, onUpdate }) => {
  // コンポーネントの実装
};
```

### スタイリング

- Tailwind CSSを使用します。
- コンポーネント固有のスタイルは、CSS Modulesを使用します。
- グローバルスタイルは最小限に抑えます。

## テスト

- 新しい機能には必ずテストを記述してください。
- テストは `__tests__` ディレクトリに配置します。
- テストの実行方法：
  ```bash
  # すべてのテストを実行
  npm test
  
  # ウォッチモードでテストを実行
  npm test -- --watch
  
  # カバレッジレポートを生成
  npm test -- --coverage
  ```

## ドキュメント

- パブリックAPIにはJSDoc形式のコメントを追加してください。
- 主要なコンポーネントにはストーリーブックを追加してください。
- 変更がユーザーに影響する場合は、`CHANGELOG.md` を更新してください。

## イシューの報告

バグを発見した場合は、以下の情報を含めてイシューを作成してください：

1. バグの説明
2. 再現手順
3. 期待される動作
4. 実際の動作
5. スクリーンショット（必要に応じて）
6. 環境情報（OS、ブラウザ、バージョンなど）

## 機能リクエスト

新機能をリクエストする場合は、以下の情報を含めてイシューを作成してください：

1. 機能の説明
2. その機能が必要な理由
3. 想定される使用例
4. 代替案（あれば）

## プルリクエストのレビュープロセス

1. プルリクエストが作成されると、CIが自動的に実行されます。
2. メンテナーがコードレビューを行います。
3. 必要に応じて変更をリクエストします。
4. すべてのチェックがパスし、承認されると、プルリクエストがマージされます。

## よくある質問（FAQ）

### プルリクエストを送る前に何をすべきですか？
- コードがプロジェクトのコーディング規約に従っていることを確認してください。
- すべてのテストがパスすることを確認してください。
- 変更がドキュメントに反映されていることを確認してください。

### プルリクエストのマージにはどのくらいかかりますか？
- 通常、1〜3営業日以内にレビューします。
- 緊急の修正が必要な場合は、イシューでその旨を明記してください。

### コントリビューターになるにはどうすればいいですか？
- 定期的に貢献しているコントリビューターは、リポジトリへの書き込みアクセス権を取得できます。
- 興味がある場合は、メンテナーに連絡してください。

## 謝辞

MatoSokuNewsに貢献してくださるすべての皆様に感謝いたします。あなたの協力がプロジェクトをより良いものにします！
